<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Функции поддержки различных языков драйвера JDBC</title><meta name="Language" content="ru-RU" /><meta name="System.Keywords" content="параметры сортировки" /><meta name="System.Keywords" content="функции поддержки различных языков" /><meta name="System.Keywords" content="локаль" /><meta name="Microsoft.Help.Id" content="bbb74a1d-9278-401f-9530-7b5f45aa79de" /><meta name="Description" content="Ниже приведены возможности локализации драйвера Драйвер Microsoft JDBC для SQL Server." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Функции поддержки различных языков драйвера JDBC</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div class="introduction"><p>Ниже приведены возможности локализации драйвера Драйвер Microsoft JDBC для SQL Server. </p><ul><li><p>Поддержка полной локализации на тех же языках, что и SQL Server.</p></li><li><p>Поддержка преобразований языка Java для данных SQL Server, зависящих от локали.</p></li><li><p>Поддержка международных языков независимо от операционной системы.</p></li></ul></div><h1 class="heading">Работа с символьными данными</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>Символьные данные на Java по умолчанию рассматриваются как данные в формате Unicode. Объект Java <span sdata="langKeyword" value="String"><span class="keyword">String</span></span> представляет символьные данные в формате Unicode. Единственное исключение из этого правила в драйвере JDBC — методы считывания и задания ASCII-потока, но это особый случай, поскольку в этих методах при обработке байтовых потоков неявно предполагается использование конкретной известной кодовой страницы (ASCII).</p><p>В дополнение, драйвер JDBC обеспечивает свойство строки соединения <span sdata="langKeyword" value="sendStringParametersAsUnicode"><span class="keyword">sendStringParametersAsUnicode</span></span>. С помощью этого свойства можно указывать, что подготовленные параметры для символьных данных были отправлены в формате ASCII или MBCS, а не в Юникоде. Дополнительные сведения о свойстве строки соединения <span sdata="langKeyword" value="sendStringParametersAsUnicode"><span class="keyword">sendStringParametersAsUnicode</span></span> см. в разделе <span sdata="link"><a href="f1b62700-f046-488d-bd6b-a5cd8fc345b7.htm">Задание свойств соединения</a></span>. </p><h1 class="heading">Входящие преобразования драйвера</h1><div class="subsection"><p>Текстовые данные в Юникоде, приходящие с сервера, преобразовывать не нужно. Они передаются непосредственно в Юникоде. Данные в других форматах, приходящие с сервера, преобразовываются в Юникод из кодировки для данных на уровне базы данных или столбца. Драйвер JDBC использует для выполнения этих преобразований подпрограммы Java Virtual Machine (JVM). Этим преобразованиям подвергаются все методы получения потоков строчных и символьных данных.</p><p>Если база данных не поддерживает нужные кодировки для JVM, то драйвер JDBC вызовет исключение «Кодовая страница ХХХ не поддерживает средой Java». Чтобы решить эту проблему, следует установить полную поддержку международных символов, необходимую для данной виртуальной машины JVM. Пример приведен в документации по поддерживаемым кодировкам на веб-сайте Sun Microsystems.</p></div><h1 class="heading">Исходящие преобразования драйвера</h1><div class="subsection"><p>Символьные данные, исходящие из драйвера на сервер, могут иметь форматы ASCII или Юникод. Например, новые методы для национальных символов в JDBC 4.0, например <b>setNString</b>, <b>setNCharacterStream</b>, <b>setNClob</b> классов <a href="a8481c06-fbba-432b-8c69-4f4619c20ad4.htm">SQLServerPreparedStatement</a> и <a href="30710a63-c05d-47d9-9cf9-c087a1c76373.htm">SQLServerCallableStatement</a>, всегда отправляют на сервер значения своих параметров в Юникоде.</p><p>C другой стороны, новые методы для API ненациональных символов в JDBC 4.0, например <b>setString</b>, <b>setCharacterStream</b> и <b>setClob</b> классов <a href="a8481c06-fbba-432b-8c69-4f4619c20ad4.htm">SQLServerPreparedStatement</a> и <a href="30710a63-c05d-47d9-9cf9-c087a1c76373.htm">SQLServerCallableStatement</a> отправляют на сервер значения своих параметров в формате Юникод только если свойство <span sdata="langKeyword" value="sendStringParametersAsUnicode"><span class="keyword">sendStringParametersAsUnicode</span></span> имеет значение «true» (это значение по умолчанию). </p></div></div><h1 class="heading">Параметры для кодировок, отличных от Юникода</h1><div id="sectionSection1" class="section" name="collapseableSection" style=""><p>Для опитмальной работы типов <span sdata="langKeyword" value="CHAR"><span class="keyword">CHAR</span></span>, <span sdata="langKeyword" value="VARCHAR"><span class="keyword">VARCHAR</span></span> или <span sdata="langKeyword" value="LONGVARCHAR"><span class="keyword">LONGVARCHAR</span></span> (в параметрах, отличных от Юникода), задайте для свойства строки соединения <span sdata="langKeyword" value="sendStringParametersAsUnicode"><span class="keyword">sendStringParametersAsUnicode</span></span> значение «false» и воспользуйтесь методами ненациональных символов.</p></div><h1 class="heading">Особенности форматирования</h1><div id="sectionSection2" class="section" name="collapseableSection" style=""><p>Все форматирование локализованных данных для дат, времени и валют выполняется на уровне языка Java с помощью объекта <b>Locale</b> и различных методов форматирования для типов данных <span sdata="langKeyword" value="Date"><span class="keyword">Date</span></span>, <span sdata="langKeyword" value="Calendar"><span class="keyword">Calendar</span></span> и <span sdata="langKeyword" value="Number"><span class="keyword">Number</span></span>. В редких случаях, когда драйвер JDBC должен передать зависящие от локали конфиденциальные данные в локализованном формате, нужный инструмент форматирования используется с локалем JVM, заданным по умолчанию.</p></div><h1 class="heading">Поддержка параметров сортировки</h1><div id="sectionSection3" class="section" name="collapseableSection" style=""><p>В версии драйвера JDBC 3.0 поддерживаются все параметры сортировки, поддерживаемые SQL Server 2000, SQL Server 2005, а также новые параметры сортировки и новые версии имен параметров сортировки Windows, реализованные в SQL Server 2008.</p><p>Дополнительные сведения о параметрах сортировки см. в разделах <a href="http://go.microsoft.com/fwlink/?LinkId=131366">Поддержка параметров сортировки и Юникода</a> и <a href="http://go.microsoft.com/fwlink/?LinkId=131367">Имя параметров сортировки Windows (Transact-SQL)</a> электронной документации по SQL Server.</p></div><span id="seeAlsoSpan"><h1 class="heading">См. также</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="939a8773-2583-49a4-bf00-6b892fbe39dc.htm">Общие сведения о драйвере JDBC</a></span></div></div></div><div id="footer" class="section"><span id="feedbackarea">Отправить <a href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','8.0.12060.10000','%0\dСпасибо%20за%20отзыв!%20Отзывы%20помогают%20команде%20разработчиков%20в%20улучшении%20документации.%20Просматривая%20ваши%20отзывы,%20корпорация%20Майкрософт%20может%20спросить%20по%20электронной%20почте%20ваше%20мнение,%20касающееся%20определенного%20решения.%20Адрес%20электронной%20почты%20не%20используется%20в%20других%20целях%20и%20удаляется%20корпорацией%20Майкрософт%20после%20завершения%20просмотра.%0\AДополнительные%20сведения%20о%20политике%20конфиденциальности%20корпорации%20Майкрософт%20см.%20на%20странице%20http://privacy.microsoft.com/ru-ru/default.aspx.%0\A%0\d','Отзывы%20пользователей.');">отзыв</a> об этом разделе в Майкрософт.</span><span id="copyrightarea"><p><a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© © Корпорация Майкрософт (Microsoft Corporation), 2012 г. Все права защищены.</a></p></span></div></div></body></html>